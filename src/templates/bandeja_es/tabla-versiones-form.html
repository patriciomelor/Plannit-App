{% extends "index-blank.html" %}

{% load crispy_forms_tags %}

{% block content %}

<div class="br-contentpanel">
<div class="br-subleft">
      <div class="pd-10">
        <a  href="{% url 'paquete-preview' borrador_pk=None %}" class="btn btn-warning bd-0 btn-compose"><i class="icon ion-ios-compose-outline"></i> Nuevo Paquete</a>
      </div>

      <h6 class="tx-uppercase tx-10 mg-t-40 pd-x-10 bd-b pd-b-10 tx-roboto tx-white-7">SECCIONES</h6>

      <nav class="nav br-nav-mailbox flex-column">
        <a href="{% url 'Bandejaeys' %}" class="nav-link active"><i class="icon fa fa-reply"></i> Recibidos</a>
        <a href="{% url 'Borradores' %}" class="nav-link"><i class="icon icon ion-edit"></i> Borradores</a>
        <a href="{% url 'bandeja-enviados' %}" class="nav-link"><i class="icon fa fa-share"></i> Enviados</a>
      </nav>
</div>
  <div class="br-pageheader pd-y-15 pd-l-20">
    <nav class="breadcrumb pd-0 mg-0 tx-12">
      <a class="breadcrumb-item"> {{proyecto}}</a>
      <a class="breadcrumb-item" href="{% url 'Bandejaeys' %}">Bandeja de Entrada</a>      
      <span class="breadcrumb-item active">Editar borrador</span>
    </nav>
  </div>
  <div class="pd-x-20 pd-sm-x-30 pd-t-20 pd-sm-t-30">
    <h4 class="tx-gray-800 mg-b-5">Crear Version</h4>
  </div>

    <div id="tablaVersiones">
        <table>
            <thead>
                <tr>
                    <th v-for="fila in filas"> [[ fila ]] </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                <td v-for="fila in filas">[[ fila.edad ]]</td>
                <td v-for="fila in filas">[[ fila.signo ]]</td>
                </tr>
            </tbody>
        </table>
    </div>
    
  <div class="modal-body">
    {% for field in form %}
      <div class="form-group{% if field.errors %} invalid{% endif %}">
        <label for="{{ field.id_for_label }}">{{ field.label }}</label>
        {{ field|as_crispy_field }}
        {% for error in field.errors %}
          <p class="help-block">{{ error }}</p>
        {% endfor %}
      </div>
    {% endfor %}
  </div>
  <!--FIN PANEL PRINCIPAL-->
</div>
 
{% endblock content %}

{% block js %}
<script>
    url = "{% url 'vue-version' paquete %}"

    var tablaVersiones = new Vue({
        el: "#tablaVersiones",
        delimiters: ['[[', ']]'],
        data: {
            filas: []
        },
        mounted() {
            axios
                .get(url).then(response => {this.filas = response.data,console.log(url),console.log(response.data)})
            }
        });
</script>
{% endblock js %}